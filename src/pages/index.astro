---
import Layout from '../layouts/Layout.astro';
import { Dashboard } from '../components/Dashboard/main';

const ProjectName = "Cloud Viewer";

// comment 

const apiUrl = `${import.meta.env.PUBLIC_API_BASE_URL}/projects?sort_order=asc&limit=33`;
console.log('Fetching from:', apiUrl);

// Coomient

const response = await fetch(apiUrl, {
  headers: { 'Cache-Control': 'no-cache' }
});
console.log('Response status:', response.status);

const data = await response.json();

const projects = data.Projects || [];
console.log('Projects count:', projects.length);
---

<Layout title={`HWC Engineering | ${ProjectName}`}>
	<Dashboard client:only="react" projects={projects} />
</Layout>
